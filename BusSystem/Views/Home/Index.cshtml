@{
    ViewData["Title"] = "Home Page";
}

<style>
    .select2-container--default .select2-selection--single {
        height: 38px;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow {
           
        margin-top: 6px;
    }
</style>


@section homepage{
    
    <section class="banner">
        <div class="overlay"></div>
        <div class="vid">
            <video autoplay muted loop id="myVideo">
                <source src="~/Videos/service-video-bg-n.webm" type="video/webm" />
            </video>
        </div>
        <div class="banner-content">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Book <span>Y</span>our <span>B</span>us</h4>
                    <form asp-action="Trips">

                        <div class="form-group">
                            <label class="control-label"> From</label>
                            <select name="fromId" class="form-control selectSearch" asp-items="ViewBag.Stations"></select>

                            <label class="control-label"> To</label>
                            <select name="toId" class="form-control selectSearch" asp-items="ViewBag.Stations"></select>
                            <span id="stationError" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label class="control-label">Departure Date</label>

                            <input name="departureDate" type="date" class="form-control" required />

                            <span id="DeptDateError" class="text-danger"></span>

                        </div>

                        <div class="form-group">
                            <label class="control-label"> Passengers</label>
                            <input name="passengers" type="number" class="form-control" required value="1" max="5" />


                        </div>


                        <div class="form-group">
                            <input type="submit" value="Show Trips" class="btn btn-primary" />

                        </div>

                    </form>

                </div>
            </div>
        </div>
    </section>

}


@section Scripts {
    <script>
        $(document).ready(function () {
            $('.selectSearch').select2();
        });
        $("form").submit(function (e) {
            var isValid = true;

            if ($("[name=fromId]").val() == $("[name=toId]").val()) {
                $("#stationError").text("Drop-off station can't be the same as pick-up station");
                isValid = false;
            } else {

                $("#stationError").text("");
            }

            var d = new Date();
            d.setHours(0, 0, 0, 0);
            if (Date.parse($("[name=departureDate]").val()) < d) {
                $("#DeptDateError").text("Invalid Departure Date");
                isValid = false;
            } else {
                $("#DeptDateError").text("");
            }
            return isValid;

        });

    </script>
}

